<div class="columns">
	<div class="column is-12">
		<table class="table">
			<thead>
			<tr>
				<th><abbr title="Event ID">ID</abbr></th>
				<th>Title</th>
				<th><abbr title="Author">by</abbr></th>
				<th>Server</th>
				<th><abbr title="Attendees">Slots</abbr></th>
				<th>Starts</th>
				<th>Ends</th>
				<th>Tags</th>
				<th>Join / Leave</th>
				<th>Info</th>
			</tr>
			</thead>
			<tfoot>
			<tr>
				<th><abbr title="Event ID">ID</abbr></th>
				<th>Title</th>
				<th><abbr title="Author">by</abbr></th>
				<th>Server</th>
				<th><abbr title="Attendees">Slots</abbr></th>
				<th>Starts</th>
				<th>Ends</th>
				<th>Tags</th>
				<th>Join / Leave</th>
				<th>Info</th>
			</tr>
			</tfoot>
			<tbody>
            <% for(var i=0; i<eventData.length; i++) { %>
			<tr class="modal-button" data-target="#event-<%= i %>-modal">
				<td>
                    <%= eventData[i].id %>
				</td>
				<td>
                    <%= eventData[i].title %>
				</td>
				<td>
                    <%= eventData[i].author %>
				</td>
				<td>
                    <%= eventData[i].server %>
				</td>
				<td>
					( <%= eventData[i].actualAttendees %> / <%= eventData[i].maxAttendees %> )
				</td>
				<td>
                    <%= eventData[i].startDate %>
				</td>
				<td>
                    <%= eventData[i].endDate %>
				</td>
				<td>
                    <%= eventData[i].tags %>
				</td>
				<td>
                    <% if (data.userIsAttendee) { %>
					<a class="button is-small is-danger is-hovered" href="/events/myevents">
									<span class="icon is-small">
										<i class="fa fa-sign-out"></i>
									</span>
					</a>
                    <% } else { %>
					<a class="button is-small is-success is-hovered" href="/events/myevents">
										<span class="icon is-small">
											<i class="fa fa-sign-in"></i>
										</span>
					</a>
                    <% } %>
				</td>
				<td>
					<a class="button is-small is-info is-hovered" href="/events/myevents">
								<span class="icon is-small">
									<i class="fa fa-info"></i>
								</span>
					</a>
				</td>
			</tr>
			<div id="event-<%= i %>-modal" class="modal">
				<div class="modal-background"></div>
				<div class="modal-card">
					<header class="modal-card-head">
						<p class="modal-card-title">
							<Strong>Event &#127380; <%= eventData[i].id %></Strong>
							<br>
							<em>created by <%= eventData[i].author %></em>
						</p>
					</header>
					<section class="modal-card-body">
						<strong>Title:</strong> <%= eventData[i].title %>
						<br>
						<strong>Server:</strong> <%= eventData[i].server %>
						<br>
						<strong>Starts:</strong> <%= eventData[i].startDate %>
						<br>
						<strong>Ends:</strong> <%= eventData[i].endDate %>
						<br>
						<strong>Slots:</strong> ( <%= eventData[i].actualAttendees %> / <%= eventData[i].maxAttendees %>
						)
						<br>
                        <% if(data.attendeesNames !== "" && data.attendeesNames) { %>
						<strong>Attendees:</strong> <%= data.attendeesNames %>
						<br>
                        <% } else { %>
						<strong>Attendees:</strong> no attendees joined yet!
						<br>
                        <% } %>
                        <% if(eventData[i].tags) { %>
						<strong>Tags:</strong> <%= eventData[i].tags %>
						<br>
                        <% } else { %>
						<strong>Tags:</strong> no tags defined yet!
						<br>
                        <% } %>
					</section>
					<footer class="modal-card-foot">
                        <% if(data.userIsAttendee) { %>
						<a class="button is-danger">Leave Event</a>
                        <% } else { %>
						<a class="button is-success">Join Event</a>
                        <% } %>
					</footer>
				</div>
				<button class="modal-close"></button>
			</div>
            <% } %>
			</tbody>
		</table>
	</div>
</div>
<div class="content">
	<em><strong>Your timezone:</strong> <%= data.tz %></em>
	<strong>//</strong>
	<em><strong>date format:</strong> <%= data.dateFormat %></em>
</div>

