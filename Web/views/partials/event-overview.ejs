
<div class="columns">
	<div class="column is-12">
		<table class="table" style="overflow-x: scroll;overflow-y: scroll">
			<thead style="background: #daf1f6;color:black">
			<tr>
				<th class="is-smaller-1"><strong>Title</strong></th>
				<th class="is-smaller-3"><abbr title="Author"><strong>by</strong></abbr></th>
				<th class="is-smaller-2"><strong>Server</strong> <span class="tag is-small is-primary">ID</span></th>
				<th><abbr title="Attendees"><strong>Slots</strong></abbr></th>
				<th class="is-hidden-mobile"><strong>Starts</strong></th>
				<th class="is-hidden-mobile"><strong>Ends</strong></th>
				<th class="is-hidden-mobile"><strong>Join / Leave</strong></th>
			</tr>
			</thead>
			<tfoot style="background: #daf1f6;color:black">
			<tr>
				<th class="is-smaller-1"><strong>Title</strong></th>
				<th class="is-smaller-3"><abbr title="Author"><strong>by</strong></abbr></th>
				<th class="is-smaller-2"><strong>Server</strong> <span class="tag is-small is-primary">ID</span></th>
				<th><abbr title="Attendees"><strong>Slots</strong></abbr></th>
				<th class="is-hidden-mobile"><strong>Starts</strong></th>
				<th class="is-hidden-mobile"><strong>Ends</strong></th>
				<th class="is-hidden-mobile"><strong>Join / Leave</strong></th>
			</tr>
			</tfoot>
			<tbody>
            <% for(var i=0; i<eventData.length; i++) { %>
			<tr class="modal-button" data-target="#event-<%= i %>-modal">
				<td>
                   <strong><%= eventData[i].title %></strong>
				</td>
				<td>
					<span class="tag is-small is-dark" style="color: white"><%= eventData[i].author %></span>
				</td>
				<td>
					<%= eventData[i].server %> <span class="tag is-small is-primary"><%= eventData[i].no %></span>
				</td>
				<td>
					<div class="tag is-small is-danger tooltip">
						<strong style="color: white"><%= eventData[i].actualAttendees %>
							/ <%= eventData[i].maxAttendees %></strong>
						<span class="tooltiptext">some attendees coming soon!</span>
					</div>
				</td>
				<td class="is-hidden-mobile">
					<span class="tag is-small is-light"><strong><%= eventData[i].startDate %></strong></span>
				</td>
				<td class="is-hidden-mobile">
					<span class="tag is-small is-light"><strong><%= eventData[i].endDate %></strong></span>
				</td>
				<td class="is-hidden-mobile">
                    <% if (eventData[i].userHasJoined) { %>
					<a class="button is-small is-danger is-hovered" onclick="leaveEvent('<%=eventData[i].id%>')">
						<span class="icon is-small"><i class="fa fa-sign-out"></i></span>
					</a>
                    <% } else { %>
					<a class="button is-small is-success is-hovered" onclick="joinEvent('<%=eventData[i].id%>')">
						<span class="icon is-small"><i class="fa fa-sign-in"></i></span>
					</a>
                    <% } %>
				</td>
			</tr>
			<div id="event-<%= i %>-modal" class="modal">
				<div class="modal-background"></div>
				<div class="modal-card">
					<header class="modal-card-head">
						<p class="modal-card-title">
							<Strong>Event &#127380;<%= eventData[i].no %></Strong>
							<em class="content is-medium">&nbsp; // by <%= eventData[i].author %></em>
						</p>
					</header>
					<section class="modal-card-body">
						<div class="content" style="line-height: 170%">
							<div class="title is-4">
								<strong><%= eventData[i].title %></strong>
							</div>
							<div class="subtitle is-6">
								<strong>on <%= eventData[i].server %></strong>
							</div>
							<hr>

							<strong>Starts:</strong> <%= eventData[i].startDateNice %>
							<br>
							<strong>Ends:</strong> <%= eventData[i].endDateNice %>
							<hr>
							<strong>Attendees [</strong> <%= eventData[i].actualAttendees %> / <%= eventData[i].maxAttendees %> <strong>] :</strong>
	                        <% if(eventData[i].attendees.length > 0) { %>
								<% for(var j = 0;j < eventData[i].attendees.length;j++) { %>
								<span class="tag is-small is-primary">
								<%= eventData[i].attendees[j] %>
								<button class="delete is-small"></button>
							</span>
								<% } %>
	                        <% } else { %>
							<em>no attendees joined yet!</em>
	                        <% } %>
							<hr>
							<strong>Tags (<%= eventData[i].tags.length%>): </strong>
							<% if(eventData[i].tags.length > 0) { %>
								<% for(j = 0;j < eventData[i].tags.length;j++) { %>
								<span class="tag is-small is-info" style="color:white">
									<%= eventData[i].tags[j] %>
									<!--<button class="delete is-small"></button>-->
								</span>
								<% } %>
							<% } else { %>
							<em>no tags defined yet!</em>
	                        <% } %>
						</div>
					</section>
					<footer class="modal-card-foot">
                        <% if(eventData[i].userHasJoined) { %>
						<a class="button is-danger" onclick="leaveEvent('<%=eventData[i].id%>')">Leave Event</a>
                        <% } else { %>
						<a class="button is-success" onclick="joinEvent('<%=eventData[i].id%>')">Join Event</a>
                        <% } %>
					</footer>
				</div>
				<button class="modal-close"></button>
			</div>
            <% } %>
			</tbody>
		</table>
	</div>
</div>
<div class="content">
	<em><strong>Your timezone:</strong> <span class="tag is-small is-light"><%= userDocument.timezone %></span></em><br>
	<em class="is-hidden-mobile"><strong>date format:</strong><span
				class="tag is-small is-light"> <%= data.dateFormatString %></span></em>
</div>

